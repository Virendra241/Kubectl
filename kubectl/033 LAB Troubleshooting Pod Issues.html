<html>
                <head>
                <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
                <title>033 LAB Troubleshooting Pod Issues</title>
                </head>
                <body>
                <div class="container">
                <div class="row">
                <div class="col-md-10 col-md-offset-1">
                    <p class="lead"><h4><strong>Troubleshooting Tip</strong></h4><p><br></p><p>If you would like to know whats the current status of the pod, and if its in a error state, find out the cause of the error, following command could be very handy.</p><pre class="prettyprint linenums">kubectl get pod vote -o yaml
</pre><p>Lets learn by example. Update pod spec and change the image to something that does not exist.</p><pre class="prettyprint linenums">kubectl edit pod vote
</pre><p><strong>This will open a editor. Go to the line which defines image and change it to a tag that does not exist</strong></p><p>e.g.</p><pre class="prettyprint linenums">spec:
  containers:
  - image: schoolofdevops/vote:srgwegew
    imagePullPolicy: Always
</pre><p>where tag <strong>srgwegew</strong> does not exist. As soon as you save this file, kubernetes will apply the change.</p><p>Now check the status,</p><pre class="prettyprint linenums">kubectl get pods  

NAME      READY     STATUS             RESTARTS   AGE
vote      0/1       ImagePullBackOff   0          7m
</pre><p><strong>The above output will only show the status, with a vague error. To find the exact error, lets get the stauts of the pod.</strong></p><p>Observe the <strong>status</strong> field.</p><pre class="prettyprint linenums">kubectl get pod vote -o yaml
</pre><p><strong>Now the status field shows a detailed information, including what the exact error. Observe the following snippet...</strong></p><pre class="prettyprint linenums">status:
...
containerStatuses:
....
state:
  waiting:
    message: 'rpc error: code = Unknown desc = Error response from daemon: manifest
      for schoolofdevops/vote:latst not found'
    reason: ErrImagePull
hostIP: 139.59.232.248
</pre><p><strong>This will help you to pinpoint to the exact cause and fix it quickly.</strong></p><p>Now that you are done experimenting with pod, delete it with the following command,</p><pre class="prettyprint linenums">kubectl delete pod vote

kubectl get pods</pre></p>
                </div>
                </div>
                </div>
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
                </body>
                </html>